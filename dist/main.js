(()=>{"use strict";let e=document.querySelector('input[placeholder="Ваше имя"]'),t=document.querySelector('input[name="tel"]');(()=>{let e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),l=document.querySelectorAll(".callback-btn"),o=document.querySelector(".modal-close"),r=document.querySelector(".button-services"),n=e.querySelectorAll("input");const c=()=>{e.style.display="block",t.style.display="block"},a=()=>{e.style.display="none",t.style.display="none",n.forEach((e=>{"submit"!==e.type&&(e.value="")}))};for(let e of l)e.addEventListener("click",(()=>{c()}));r.addEventListener("click",(()=>{c()})),document.addEventListener("click",(e=>{(e.target.classList.contains("modal-overlay")||e.target.classList.contains("modal-close"))&&a()})),o.addEventListener("click",(()=>{a()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&a()}));let s=document.querySelectorAll(".services-item > .element > .img-wrapper");for(let e of s)e.addEventListener("click",(()=>{c()}))})(),(()=>{let e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();let l=t.getAttribute("href");document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})}));let t=()=>{window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(t,10))},l=document.querySelector(".upTop");window.addEventListener("scroll",(()=>{let e=window.pageYOffset,t=document.documentElement.clientHeight-700;e>t&&(l.style.display="block"),e<t&&(l.style.display="none")})),l.addEventListener("click",t)})(),(()=>{let e=document.querySelectorAll(".item"),t=0;setInterval((()=>{e[t].style.display="none",t++,t>=e.length&&(t=0),e[t].style.display="block"}),3e3)})(),(()=>{let e=document.querySelector(".services-arrow"),t=document.querySelector(".services-carousel"),l=0;e.addEventListener("click",(e=>{e.target.matches(".arrow-right")&&0==l&&(t.style.marginLeft="-1200px",l=-1200),e.target.matches(".arrow-left")&&-1200==l&&(t.style.marginLeft="0px",l=0)}))})(),(()=>{let e=document.querySelector(".accordeon"),t=document.querySelectorAll(".accordeon > .element"),l=document.querySelectorAll(".accordeon > .element > .element-content");e.addEventListener("click",(e=>{if(e.target.closest(".element")){let o=e.target.closest(".element");t.forEach(((e,t)=>{e==o?(e.classList.toggle("active"),l[t].style.display="block",e.classList.contains("active")||(l[t].style.display="none")):(e.classList.remove("active"),l[t].style.display="none")}))}}))})(),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\s]/g,"")})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9+]/g,"")})),(({someElem:e=[]})=>{let t=document.querySelector("form"),l=t.fio,o=t.tel,r=document.createElement("div");try{if(!t)throw new Error("Верните форму");t.addEventListener("submit",(l=>{l.preventDefault(),(()=>{let l=t.querySelectorAll("input"),o=new FormData(t),n={};r.textContent="Идёт отправка...",r.style.color="black",r.classList.add("rezault"),t.append(r),o.forEach(((e,t)=>{n[t]=e.trim()}));let c=document.getElementById(e.id);if("block"===e.type?n[e.id]=c.textContent:"input"===e.type&&(n[e.id]=c.value),(()=>{let e=!0;return t.tel.value.length<7&&(e=!1),e})()){(a=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((e=>{r.textContent="Спасибо! Отправлено",l.forEach((e=>{"submit"!==e.type&&(e.value="")}))})).catch((e=>{r.textContent="Ошибка..."}));let e=document.querySelector(".rezault"),t=document.querySelector(".modal-callback"),o=document.querySelector(".modal-overlay");e.style.display="block",setTimeout((()=>{t.style.display="none",o.style.display="none",e.style.display="none"}),3e3)}var a})()}))}catch(e){console.log(e.message)}let n=t.querySelectorAll("input");for(let e of n)e.matches(".tel")?e.addEventListener("input",(()=>{if(o.value.length<7){let e=document.querySelector(".phoneError");e&&e.remove(),o.insertAdjacentHTML("afterEnd",'<label for="tel" class="phoneError" style="color:red; font-size: 15px;">Не менее 7 цифр</label>')}else if(o.value.length>6){let e=document.querySelector(".phoneError");e&&e.remove()}})):e.matches(".fio")&&e.addEventListener("click",(()=>{let t=document.querySelector(".nameError");t&&t.remove(),l.insertAdjacentHTML("afterEnd",'<label for="fio" class="nameError" style="color:red; font-size: 15px;">Только кириллица</label>'),e.addEventListener("input",(()=>{if(l.value.length>1){let e=document.querySelector(".nameError");e&&e.remove()}}))}))})({someElem:[{type:"block",id:"total"}]})})();