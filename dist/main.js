(()=>{"use strict";let e=document.querySelector('input[placeholder="Ваше имя"]'),t=document.querySelector('input[name="tel"]');(()=>{let e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay"),l=document.querySelectorAll(".callback-btn"),r=document.querySelector(".modal-close"),o=document.querySelector(".button-services"),n=e.querySelectorAll("input");const s=()=>{e.style.display="block",t.style.display="block"},c=()=>{e.style.display="none",t.style.display="none",n.forEach((e=>{"submit"!==e.type&&(e.value=""),e.classList.contains("error")&&e.classList.remove("error")}));let l=e.querySelectorAll("label");if(l)for(let e of l)e.remove()};for(let e of l)e.addEventListener("click",(()=>{s()}));o.addEventListener("click",(()=>{s()})),document.addEventListener("click",(e=>{(e.target.classList.contains("modal-overlay")||e.target.classList.contains("modal-close"))&&c()})),r.addEventListener("click",(()=>{c()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&c()}));let i=document.querySelectorAll(".services-item > .element > .img-wrapper");for(let e of i)e.addEventListener("click",(()=>{s()}))})(),(()=>{let e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault();let l=t.getAttribute("href");document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})}));let t=()=>{window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(t,10))},l=document.querySelector(".upTop");window.addEventListener("scroll",(()=>{let e=window.pageYOffset,t=document.documentElement.clientHeight-700;e>t&&(l.style.display="block"),e<t&&(l.style.display="none")})),l.addEventListener("click",t)})(),(()=>{let e=document.querySelectorAll(".item"),t=0;setInterval((()=>{e[t].style.display="none",t++,t>=e.length&&(t=0),e[t].style.display="block"}),3e3)})(),(()=>{let e=document.querySelector(".services-arrow"),t=document.querySelector(".services-carousel"),l=document.querySelector(".arrow-right"),r=document.querySelector(".arrow-left"),o=window.matchMedia("(min-width: 1240px)"),n=window.matchMedia("(max-width: 1239px)"),s=0;e.addEventListener("click",(e=>{e.target.matches(".arrow-right")&&(o.matches&&(s>=0&&s<1200&&(s+=400,t.style.marginLeft=-s+"px",console.log(s)),s>0&&(r.style.visibility="visible"),1200==s&&(l.style.visibility="hidden")),n.matches&&(s>=0&&s<1600&&(s+=400,t.style.marginLeft=-s+"px"),s>0&&(r.style.visibility="visible"),1600==s&&(l.style.visibility="hidden"))),e.target.matches(".arrow-left")&&(o.matches&&(s<=1200&&s>0&&(s-=400,t.style.marginLeft=-s+"px"),0==s&&(r.style.visibility="hidden"),s<1200&&(l.style.visibility="visible")),n.matches&&(s<=1600&&s>0&&(s-=400,t.style.marginLeft=-s+"px"),0==s&&(r.style.visibility="hidden"),s<1600&&(l.style.visibility="visible")))}))})(),(()=>{let e=document.querySelector(".accordeon"),t=document.querySelectorAll(".accordeon > .element"),l=document.querySelectorAll(".accordeon > .element > .element-content");e.addEventListener("click",(e=>{if(e.target.closest(".element")){let r=e.target.closest(".element");t.forEach(((e,t)=>{e==r?(e.classList.toggle("active"),l[t].style.display="block",e.classList.contains("active")||(l[t].style.display="none")):(e.classList.remove("active"),l[t].style.display="none")}))}}))})(),e.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^а-яА-Я\s]/g,"")})),t.addEventListener("input",(e=>{e.target.value=e.target.value.replace(/[^0-9+]/g,"")})),(({someElem:e=[]})=>{let t=document.querySelector("form"),l=t.fio,r=t.tel,o=document.createElement("div");try{if(!t)throw new Error("Верните форму");t.addEventListener("submit",(n=>{n.preventDefault(),0==r.value.length?r.classList.add("error"):r.classList.contains("error")&&r.classList.remove("error"),0==l.value.length?l.classList.add("error"):l.classList.contains("error")&&l.classList.remove("error"),r.value.length>=7&&l.value.length>=2&&(()=>{let n=t.querySelectorAll("input"),s=new FormData(t),c={};o.textContent="Идёт отправка...",o.style.color="black",o.classList.add("rezault"),t.append(o),s.forEach(((e,t)=>{c[t]=e.trim()}));let i=document.getElementById(e.id);if("block"===e.type?c[e.id]=i.textContent:"input"===e.type&&(c[e.id]=i.value),(()=>{let e=!0;return(r.value.length<7||l.value.length<2)&&(e=!1),e})()){(a=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json"}}).then((e=>e.json()))).then((e=>{o.textContent="Спасибо! Отправлено",n.forEach((e=>{"submit"!==e.type&&(e.value="")}))})).catch((e=>{o.textContent="Ошибка..."}));let e=document.querySelector(".rezault"),t=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay");e.style.display="block",setTimeout((()=>{t.style.display="none",l.style.display="none",e.style.display="none"}),3e3)}var a})()}))}catch(e){console.log(e.message)}let n=t.querySelectorAll("input");for(let e of n)e.matches(".tel")?e.addEventListener("input",(()=>{if(r.value.length>0&&r.classList.remove("error"),r.value.length<7){let e=document.querySelector(".phoneError");e&&e.remove(),r.insertAdjacentHTML("afterEnd",'<label for="tel" class="phoneError" style="color:red; font-size: 15px;">Не менее 7 цифр</label>')}else if(r.value.length>6){let e=document.querySelector(".phoneError");e&&e.remove()}})):e.matches(".fio")&&e.addEventListener("input",(()=>{if(l.value.length>0&&l.classList.remove("error"),l.value.length<2){let e=document.querySelector(".nameErrorLength");e&&e.remove(),l.insertAdjacentHTML("afterEnd",'<label for="tel" class="nameErrorLength" style="color:red; font-size: 15px;">Не менее 2 символов</label>')}else if(l.value.length>=2){let e=document.querySelector(".nameErrorLength");e&&e.remove()}}))})({someElem:[{type:"block",id:"total"}]})})();